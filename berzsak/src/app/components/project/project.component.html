<div class="container" [class.exp-view]="view.status === ViewStatus.EXPERIENCE" [class.sidebar-open]="selectedProject">

  <!-- brand name -->
  <div class="brand-name">
    <button class="brand-name-button" [class.exp-view]="view.status === ViewStatus.EXPERIENCE" (click)="window.location.href = '/index.html'">BERZSAK.</button>
  </div>

  <!-- Grid/Experience button -->
  <div class="view-button" [hidden]="selectedProject" [class.exp-view]="view.status === ViewStatus.EXPERIENCE">
    <button class="view-btn" (click)="viewChange()">
    <span class="view-icon">
      <!-- use a grid/list icon based on status -->
      <img src="/view-icon/grid@600x.png" alt="grid icon">
    </span>
      <span class="view-text">{{ view.value }}</span>
    </button>
  </div>

  <div *ngIf="view.status === ViewStatus.EXPERIENCE" class="contact-div-experience">
    <div class="facebook">
      <a class="fab fa-facebook" target="_blank" href="https://www.facebook.com/irishgreenbycsilla?locale=hu_HU"></a>
    </div>
    <div class="instagram">
      <a class="fab fa-instagram" target="_blank" href="https://www.instagram.com/berzsak_/"></a>
    </div>
    <div class="behance">
      <a class="fab fa-behance" target="_blank" href="https://www.behance.net/berzsak_"></a>
    </div>
    <div class="pinterest">
      <a class="fab fa-pinterest" target="_blank" href="https://hu.pinterest.com/berzsak_"></a>
    </div>
  </div>

  <!-- Sidebar -->
  <div class="sidebar-main-wrapper" *ngIf="selectedProject && !sidebarDisabled" [@sidebarSlide] #sidebar
       (@sidebarSlide.done)="onSidebarAnimDone($event)">
    <div class="fade-div"></div>
    <div class="sidebar-scroll-wrapper"
         >
      <h2 class="sidebar-name">{{ selectedProject.name }}</h2>
      <p class="sidebar-description">{{ selectedProject.shortDescription }}</p>

      <div class="sidebar-main-image">
        <div class="sidebar-gallery-switch-btn">
          <button class="left-btn" (click)="updateSelectedImage(selectedImageIndex-1)"></button>
          <button class="right-btn" (click)="updateSelectedImage(selectedImageIndex+1)"></button>
        </div>
        <img [src]="selectedProject.imageUrls[selectedImageIndex][4]" [alt]="selectedProject.name"
             [srcset]="getSrcset(selectedProject.imageUrls[selectedImageIndex])"
             sizes="34vw"
             [attr.data-project-name]="selectedProject.name">
      </div>

      <div class="gallery">
        <div class="gallery-box" *ngFor="let imgVariants of selectedProject.imageUrls; let i = index"
             (click)="updateSelectedImage(i)"
             [class.active]="selectedImageIndex === i">
          <img
               [src]="imgVariants[4]"
               [srcset]="getSrcset(imgVariants)"
               sizes="{{ getGallerySizes(selectedProject.imageUrls.length) }}"
               [alt]="selectedProject.name">
        </div>
      </div>
      <div class="sidebar-navigate-btn">
        <a [routerLink]="['/main', selectedProject.slug]" draggable="false">Take me to project</a>
      </div>
    </div>
  </div>
  <button *ngIf="selectedProject" class="close-btn" (click)="closeSidebar()">âœ•</button>


  <!-- Grid-Experience -->
  <div class="grid-experience-wrapper" *ngIf="view.status === ViewStatus.EXPERIENCE" #gridExp>
    <div class="grid-experience" [@gridSlide]="gridState"
         (@gridSlide.done)="onGridAnimDone($event)"
         >
      <div *ngFor="let project of projects" class="grid-item">
        <img [src]="project.mainImgUrl[4]"
             [srcset]="getSrcset(project.mainImgUrl)"
             [sizes]="gridImageSizes()"
             [alt]="project.name"
             [attr.data-project-name]="project.name"
             (click)="onImageClick($event, project)" draggable="false">
      </div>
    </div>
  </div>

  <!-- Grid-view -->
  <div class="grid-wrapper" *ngIf="view.status === ViewStatus.GRID" #gridCol3>
    <div class="fade-div"></div>
    <div class="grid-col3">
      <div *ngFor="let project of projects" class="grid-item">
        <div class="item-gallery"
             >
          <img *ngFor="let imgVariants of project.imageUrls"
               [src]="imgVariants[4]"
               [srcset]="getSrcset(imgVariants)"
               sizes="(max-width: 400px) 90vw, (max-width: 700px) 40vw, 28vw"
               [alt]="project.name"
               draggable="false">
        </div>
        <a class="col3-navigate-btn" [routerLink]="['/main', project.slug]" draggable="false">Take me to project</a>
      </div>
    </div>

    <hr>

    <div class="contact-div">
      <div class="facebook">
        <a class="fab fa-facebook" target="_blank" href="https://www.facebook.com/irishgreenbycsilla?locale=hu_HU"></a>
      </div>
      <div class="instagram">
        <a class="fab fa-instagram" target="_blank" href="https://www.instagram.com/berzsak_/"></a>
      </div>
      <div class="behance">
        <a class="fab fa-behance" target="_blank" href="https://www.behance.net/berzsak_"></a>
      </div>
      <div class="pinterest">
        <a class="fab fa-pinterest" target="_blank" href="https://hu.pinterest.com/berzsak_"></a>
      </div>
    </div>
  </div>

</div>
